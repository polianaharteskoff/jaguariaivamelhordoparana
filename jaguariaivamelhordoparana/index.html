<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  Â  <title>JaguariaÃ­va Melhor do ParanÃ¡</title>
Â  Â  <link rel="stylesheet" href="style.css" />
Â  Â  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>

<div id="welcome-screen">
    <div class="welcome-content">
        <h2>ğŸ‰ Bem-vindo(a) a JaguariaÃ­va!</h2>
        <p>Descubra as riquezas histÃ³ricas e culturais da nossa cidade. Clique abaixo para explorar.</p>
        <button id="enter-button">Explorar o Site</button>
    </div>
</div>
<header>
Â  Â  <h1>JAGUARIAÃVA MELHOR DO PARANÃ</h1>
Â  Â  <h6>DESCUBRA AS RIQUEZAS HISTÃ“RICAS E CULTURAIS DA NOSSA CIDADE</h6>
</header>

<nav>
Â  Â  <a href="#historia">ğŸ“œ HISTÃ“RIA</a>
Â  Â  <a href="#cultura"> ğŸ­ CULTURA</a>
Â  Â  <a href="#patrimonio">ğŸ›ï¸ PATRIMÃ”NIO</a>
Â  Â  <a href="#turismo">ğŸ—ºï¸ TURISMO</a>
Â  Â  <a href="#galeria">ğŸ–¼ï¸ GALERIA</a>
</nav>

<main>
Â  Â  <section id="historia">
Â  Â  Â  Â  <h2>ğŸ“œ HISTÃ“RIA</h2>
Â  Â  Â  Â  <p>A origem de JaguariaÃ­va remonta ao inÃ­cio do sÃ©culo XVII, com as penetraÃ§Ãµes de bandeirantes e tropeiros que utilizavam o Caminho de Sorocaba. O nome deriva do rio local. O municÃ­pio se desenvolveu a partir da Fazenda JaguariaÃ­va, comprada em 1795 e elevada a Freguesia em 1823. A Ã¡rea alcanÃ§ou a categoria de Vila em 1875 (restabelecida em 1892) e, posteriormente, foi elevada a Cidade em 1908.</p>
Â  Â  Â  Â  <p>Com a vinda do Conde Francisco Matarazzo em 1920, que atravÃ©s de seu ImpÃ©rio colocou JaguariaÃ­va para alÃ©m dos trilhos da ferrovia, o desenvolvimento da cidade ganhou novo impulso. Naquela dÃ©cada, o grupo Matarazzo instalou as IndÃºstrias Reunidas FÃ¡bricas Matarazzo (IRFM). A fÃ¡brica funcionou como FrigorÃ­fico atÃ© 1964 e, depois, como Tecelagem atÃ© 1981. Paralelamente Ã  indÃºstria, foi construÃ­do um complexo residencial que incluÃ­a trÃªs casas: uma para o Gerente da FÃ¡brica, a casa principal para a estadia da famÃ­lia Matarazzo e uma casa para os responsÃ¡veis pela manutenÃ§Ã£o do imÃ³vel.</p>
        <p>Hoje, o Complexo Matarazzo sedia vÃ¡rias empresas locais e o Cine Teatro ValÃ©ria Luercy.</p>
Â  Â  Â  Â  <img src="images/museu.webp" alt="Foto histÃ³rica de JaguariaÃ­va" />
        <img src="images/complexo.webp" alt="Foto histÃ³rica de JaguariaÃ­va"/>
        <h5>Museu histÃ³rico Conde Francisco Matarazzo/Complexo Matarazzo</h5>
Â  Â  </section>

Â  Â  <section id="cultura">
Â  Â  Â  Â  <h2> ğŸ­ CULTURA</h2>
Â  Â  Â  Â  <p>A cultura local de JaguariaÃ­va Ã© enriquecida por talentos como o PalhaÃ§o Arrelia e a Poetisa Marieta Camargo.</p>
Â  Â  Â  Â  <p>O ParanÃ¡ tambÃ©m foi palco de visitas ilustres, como a do famoso pintor francÃªs Jean-Baptiste Debret em 1827, considerado o primeiro artista com referÃªncia segura a pintar a paisagem paranaense.</p>
        <p>Mais tarde, na arte moderna brasileira, o municÃ­pio de JaguariaÃ­va foi representado na obra de Tarsila do Amaral. Acredita-se que o quadro â€œA Gareâ€ (1925), que no acervo brasileiro Ã© conhecido como â€œNa EstaÃ§Ã£oâ€, retrate a estaÃ§Ã£o de trem de JaguariaÃ­va, na regiÃ£o dos Campos Gerais. Nesta obra, Tarsila utilizou uma tÃ©cnica de reduÃ§Ã£o dos edifÃ­cios e veÃ­culos Ã  geometria elementar, compactando as formas achatadas como peÃ§as de quebra-cabeÃ§a, a fim de construir um todo coerente.</p>
        <img src="images/arrelia.jpeg" alt="Cultura local em JaguariaÃ­va" />
        <img src="images/debret.jpg" alt="Cultura local em JaguariaÃ­va" />
Â  Â  </section>

Â  Â  <section id="patrimonio">
Â  Â  Â  Â  <h2> ğŸ›ï¸ PATRIMÃ”NIO</h2>
Â  Â  Â  Â  <p>JaguariaÃ­va abriga diversos patrimÃ´nios histÃ³ricos e culturais que contam a trajetÃ³ria da cidade. Destacam-se as **igrejas centenÃ¡rias**, o **Museu HistÃ³rico Municipal**, e antigos casarÃµes que preservam a arquitetura colonial. Esses locais sÃ£o fundamentais para a compreensÃ£o do passado e para a valorizaÃ§Ã£o do presente.</p>
        <img src="images/casarao2.webp" alt="PatrimÃ´nio histÃ³rico de JaguariaÃ­va" />
        <img src="images/igreja.jpg" alt="PatrimÃ´nio histÃ³rico de JaguariaÃ­va" />

Â  Â  </section>

Â  Â  <section id="turismo">
Â  Â  Â  Â  <h2>ğŸ—ºï¸ TURISMO </h2>
Â  Â  Â  Â  <p>Natureza e Aventura A cidade Ã© conhecida por suas paisagens naturais impressionantes, como **cÃ¢nions, cachoeiras e trilhas**. Ã‰ um destino ideal para quem curte ecoturismo, esportes radicais e contato com a natureza.</p>
        <p>Conhecer jaguariaÃ­va Ã© se apaixonar: VÃ©u da Noiva, Lago Azul, Escarpa Devoniana, ChalÃ© da usina, TÃºnel Alagado fÃ¡bio Rego, trilhas, Cachoeira das Andorinhas, Caminhada Santa do ParedÃ£o,Aqua Treking, Rapel, Rafting, cavalgada, montanhismo, lindos chalÃ©s em contato com a natureza</p>
Â  Â  Â  Â  <img src="images/veu.jpg" alt="Foto histÃ³rica de JaguariaÃ­va" />
        <img src="images/lago.jpg" alt="Foto histÃ³rica de JaguariaÃ­va" />

Â  Â  </section>

Â  Â  <section id="galeria">
Â  Â  Â  Â  <h2> ğŸ–¼ï¸ GALERIA DE FOTOS</h2>
Â  Â  Â  Â  <img src="images/tarcila.jpg" alt="PatrimÃ´nio histÃ³rico de JaguariaÃ­va" />
        <img src="images/chale.jpg" alt="Foto histÃ³rica de JaguariaÃ­va" />
        <img src="images/tunel.jpg" alt="Foto histÃ³rica de JaguariaÃ­va" />
        <img src="images/vista.webp" alt="Vista panorÃ¢mica da cidade" />
        <img src="images/andorinhas.webp" alt="Vista panorÃ¢mica da cidade" />
Â  Â  </section>

</main>

<section id="historias" class="historias-section">
Â  Â  <h2>ğŸ“– COMPARTILHE UMA HISTÃ“RIA</h2>
Â  Â  <form id="formHistoria">
Â  Â  Â  Â  <input type="text" id="nome" placeholder="Seu nome" required />
Â  Â  Â  Â  <textarea id="mensagem" placeholder="Escreva sua histÃ³ria..." required></textarea>
Â  Â  Â  Â  <button type="submit">Enviar HistÃ³ria</button>
Â  Â  </form>

Â  Â  <div id="listaHistorias">
Â  Â  Â  Â  <h3>ğŸ—‚ï¸ HistÃ³rias Enviadas:</h3>
Â  Â  Â  Â  <ul id="historiasContainer"></ul>
Â  Â  </div>
</section>

<footer>
Â  Â  <p>Â© 2025 JaguariaÃ­va - Todos os direitos reservados.</p>
</footer>

<script>
    // ----------------------------------------------------
    // 1. Gerenciamento da Tela de Boas-Vindas
    // ----------------------------------------------------
    const welcomeScreen = document.getElementById('welcome-screen');
    const enterButton = document.getElementById('enter-button');

    enterButton.addEventListener('click', () => {
        welcomeScreen.classList.add('hidden');
    });


    // ----------------------------------------------------
    // 2. NavegaÃ§Ã£o por Abas (Tabs)
    // ----------------------------------------------------
    const navLinks = document.querySelectorAll('nav a');
    const sections = document.querySelectorAll('main section');

    // FunÃ§Ã£o para exibir a seÃ§Ã£o correta
    function showSection(targetId) {
        sections.forEach(section => {
            section.classList.remove('active');
        });
        navLinks.forEach(link => {
            link.classList.remove('active');
        });

        const targetSection = document.querySelector(targetId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
    }

    // Adiciona o evento de clique a cada link do menu
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            showSection(targetId);
            this.classList.add('active');
            window.history.pushState(null, '', targetId);
        });
    });

    // Define qual seÃ§Ã£o deve ser exibida ao carregar a pÃ¡gina
    const initialHash = window.location.hash || '#historia';
    showSection(initialHash);
    const initialLink = document.querySelector(`nav a[href="${initialHash}"]`);
    if(initialLink) {
        initialLink.classList.add('active');
    }

    // ----------------------------------------------------
    // 3. Envio e Carregamento de HistÃ³rias
    // ----------------------------------------------------
    const form = document.getElementById("formHistoria");
    const containerHistorias = document.getElementById("historiasContainer");

    // Enviar histÃ³ria para o servidor Node
    form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const nome = document.getElementById("nome").value.trim();
        const mensagem = document.getElementById("mensagem").value.trim();

        if (!nome || !mensagem) {
            alert("Preencha todos os campos!");
            return;
        }

        try {
            const resposta = await fetch("/historias", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ nome, mensagem })
            });

            if (resposta.ok) {
                form.reset();
                carregarHistorias();
                alert("HistÃ³ria enviada com sucesso!");
            } else {
                console.error("Resposta do servidor nÃ£o foi OK:", resposta.status, await resposta.text());
                alert("Erro ao enviar histÃ³ria! Verifique o console.");
            }
        } catch (err) {
            console.error("Erro de rede:", err);
            alert("Erro ao conectar ao servidor! Verifique se o servidor Express estÃ¡ rodando.");
        }
    });

    // Buscar e exibir histÃ³rias
    async function carregarHistorias() {
        try {
            const resposta = await fetch("/historias");
            const historias = await resposta.json();

            containerHistorias.innerHTML = "";

            if (historias.length === 0) {
                containerHistorias.innerHTML = "<p>Nenhuma histÃ³ria publicada ainda.</p>";
                return;
            }

            historias.forEach(h => {
                const li = document.createElement("li");
                li.innerHTML = `<strong>${h.nome}</strong>: ${h.mensagem}`;
                containerHistorias.appendChild(li);
            });
        } catch (err) {
            console.error("Erro ao carregar histÃ³rias:", err);
            containerHistorias.innerHTML = "<p>NÃ£o foi possÃ­vel carregar as histÃ³rias do servidor.</p>";
        }
    }

    // Carrega histÃ³rias ao abrir o site
    carregarHistorias();
</script>

</body>
</html>
